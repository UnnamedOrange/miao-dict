# 女少口阿

## 核心概念

### 库（library）

库由以下部分组成。

#### id

#### 标签（tag）

字符串，是这个库的名字。

#### 预设语言类型（lang）

字符串，预设值有：`zhs`、`zht`、`en`、`ja`、`custom`。

#### 词典（dict）

##### 词（item）

一个词（item）包含以下属性：

- id。
- 一般式（origin），字符串。
- 变体（variants），字符串的列表。
- 注音（notations），字符串的列表。
- 翻译（translations），列表，每个元素形如 `(id, lib_id, tag, meaning)`。
- 发音（pronunciations），发音 id 的列表。
- 句子（sentences），列表，每个元素形如 `(id, trans_id)`。

##### 未处理过的词（raw_item）

一个未处理过词（raw_item）包含以下属性：

- 一般式（origin），字符串。
- 出现次数（frequency），整数，用作排序依据。

#### 原始语料库（raw）

##### 片段（passage）

一个长字符串。可以使用程序辅助从片段中提取句子（sencence）或未处理过的词（raw_item）。

#### 语音库（pronunciations）

TODO

### 句子库（sentences）

#### 句子（sentence）

一个句子包含以下属性：

- id。注意这个 id 是全局的 id，对于意思相同的句子，应当在不同的库中共享一个 id。
- 句子内容（content），列表，每个元素形如 `(lib_id, content)`。

### 本地系统

在本地，存在一个工作目录，里面存放了所有的库。总是存在一个默认库（default_library），不可删除，应当指定其语言类型为用户本地的语言。

### 学习

#### 常驻显示

对于指定的单个或多个库，始终在屏幕上显示一个词语。针对该学习方式，每个词会有以下附加属性：

- 显示时间（showing_time）（毫秒）。对于显示时间较短的词，会优先显示。
- 手动跳过次数（n_skips）。对于手动跳过次数较多的词，会优先显示。

如果没有外加操作，只会显示词语。通过额外的操作，可以在悬浮窗中显示词语的翻译和句子。

#### 轮巡显示

对于指定的部分词语，一次只在屏幕上显示一个词语，以一定的速度切换至下一个单词。针对该学习方式，每个词会有以下附加属性：

- 出现次数（n_flick）。
- 手动暂停次数（n_pause）。
- 要求朗读次数（n_pronounce）。

预计等待时间（毫秒）会根据其他属性进行调整。如果无法跟上节奏，可以暂停，暂停时会显示最近的几个出现过的单词，移动至无法跟上节奏的单词后，可以进行进一步的学习后再继续。

#### 查询

可以查询任意库中的词语。针对该学习方式，每个词会有以下附加属性：

- 查询次数。